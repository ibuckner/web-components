<!DOCTYPE html>
<html dir="ltr" lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=5.0">
  <title>Web components with Stencil</title>
  <script type="module" src="/build/web-components.esm.js"></script>
  <script nomodule src="/build/web-components.js"></script>
  <style>
    .box {
      border: 1px solid #000;
      border-radius: 5px;
      margin: 0.5rem;
      padding: 0.5rem;
      text-align: center;
      width: 3rem
    }
    .modal-message {
      background-color:#fff;
      height: 200;
      padding: 2rem;
      width: 200
    }
  </style>
</head>
<body>
  <fieldset>
    <legend><h3>Expand Item</h3></legend>
    <nel-expand-item size="1.75">
      <div slot="title">Hello</div>
      <div slot="content">World</div>
    </nel-expand-item>
  </fieldset>

  <fieldset>
    <legend><h3>Item Collection</h3></legend>
    <nel-item-collection id="list-collection" align="vertical" sortable resizable>
      <div class="box">A</div>
      <div class="box">B</div>
    </nel-item-collection>
    <hr>
    <button id="erase">Clear list</button>
    <button id="sortAZ">▼ A-Z</button>
    <button id="sortZA">▲ Z-A</button>
    <button id="addItem">Add text</button>
    <input id="addItemText" type="text" placeholder="Letter of alphabet" value="C" maxlength="1" />
    <script type="text/javascript">
      var list = document.querySelector("#list-collection");
      document.querySelector("#erase")
        .addEventListener("click", function() {
          list.clear();
        });
      document.querySelector("#sortAZ")
        .addEventListener("click", function() {
          list.sort();
        });
      document.querySelector("#sortZA")
        .addEventListener("click", function() {
          list.sort(true);
        });
      document.querySelector("#addItem")
        .addEventListener("click", function() {
          const t = document.createElement("div");
          t.classList.add("box");
          var letter = document.querySelector("#addItemText");
          t.textContent = letter.value;
          list.appendChild(t);
        });
    </script>
  </fieldset>

  <fieldset>
    <legend><h3>List Item</h3></legend>
    <nel-item-collection id="" align="vertical" sortable resizable>
      <nel-list-item color="lightgreen" selectable deletable>World</nel-list-item>
      <nel-list-item color="lightblue" selectable deletable>Hello</nel-list-item>
    </nel-item-collection>    
    <script type="text/javascript">
      [].slice.call(document.querySelectorAll("nel-list-item"))
        .forEach(function(t) {
          t.addEventListener("selected", (ev) => {
            console.log("You selected " + ev.detail.textContent);
          });
          t.addEventListener("deleting", (ev) => {
            console.log("You are deleting " + ev.detail.textContent);
          });
          t.addEventListener("deleted", (ev) => {
            console.log("You have deleted " + ev.detail.textContent);
          });
        });
    </script>
  </fieldset>

  <fieldset>
    <legend><h3>Modal View</h3></legend>
    <nel-modal-view id="modal" alignment="center">
      <div class="modal-message">
        Hello world!<br>
        <button class="showModal">Hide message</button>
      </div>
    </nel-modal-view>
    <button class="showModal">View message</button>
    <script type="text/javascript">
      var btns = [].slice.call(document.querySelectorAll(".showModal"));
      var md = document.querySelector("#modal");
      btns.forEach(function(b) {
        b.addEventListener("click", function(ev) {
          md.open = !md.open;
        });
      });
    </script>
  </fieldset>

  <fieldset>
    <legend><h3>Network Connection</h3></legend>
    Disable the network via DevTools.<br>
    (On Chrome)<br>
    F12 Key -> Network tab -> Toggle between Online and offline
    <nel-network-connection>
      <div style="color: red">Whoa there, you are offline!</div>
    </nel-network-connection>
  </fieldset>

  <fieldset>
    <legend><h3>On Off</h3></legend>
    <nel-on-off id="onoff" size="3" color="blue"></nel-on-off>
    <script type="text/javascript">
      const oo = document.querySelector("#onoff");
      oo.addEventListener("toggle", (ev) => {
        console.log("Switch is in " + ev.detail.on + " state");
      });
    </script>
  </fieldset> 

  <fieldset>
    <legend><h3>Text Input</h3></legend>
    <label>Text entry <nel-text-input cleartext id="txtEntry" mask="^\d+$" pattern=".*" placeholder="Enter some text" value=""></label>
    <hr>    
    <label><input id="txtEntryStandard" type="radio" name="txtEntry" checked /> Standard text</label><br>
    <label><input id="txtEntryPwd" type="radio" name="txtEntry" /> Password</label><br>
    <label>Restrict input text to <input id="textEntryMask" type="text" value="^\d+$" /></label>
    <script type="text/javascript">
      var t = document.querySelector("#txtEntry");
      var std = document.querySelector("#txtEntryStandard");
      var pwd = document.querySelector("#txtEntryPwd");
      var msk = document.querySelector("#textEntryMask");
      std.addEventListener("click", function() {
        t.placeholder = "Enter some text";
        t.cleartext = true;
        console.log("cleartext attribute added to text-input");
      });
      pwd.addEventListener("click", function() {
        t.placeholder = "Enter a password";
        t.cleartext = false;
        console.log("cleartext attribute removed from text-input");
      });
      msk.addEventListener("change", function() {
        t.mask = msk.value;
      });
    </script>
  </fieldset>  

  <fieldset>
    <legend><h3>Text Tag</h3></legend>
    The quick brown <nel-text-tag id="mammalTag" selectable deletable color="green" label="Mammal">fox</nel-text-tag>
    jumped over the gate.
    <script type="text/javascript">
      const tt = document.querySelector("nel-text-tag");
      tt.addEventListener("selected", (ev) => {
        console.log("You selected " + ev.detail.id);
      });
      tt.addEventListener("deleting", (ev) => {
        console.log("You are deleting " + ev.detail.id);
      });
      tt.addEventListener("deleted", (ev) => {
        console.log("You have deleted " + ev.detail.id);
      });
    </script>
  </fieldset>
</body>
</html>